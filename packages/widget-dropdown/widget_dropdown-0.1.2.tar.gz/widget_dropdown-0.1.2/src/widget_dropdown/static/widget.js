function l({model:t,el:s}){let n=document.createElement("select");function c(a,i){a.forEach(d=>{if(d.group){let e=document.createElement("optgroup");e.label=d.group,c(d.options,e),i.appendChild(e)}else{let e=document.createElement("option");e.value=d.value,e.textContent=d.text,e.disabled=d.disabled,i.appendChild(e)}})}function o(a){n.innerHTML="",c(a,n),n.selectedIndex=0}o(t.get("options")),t.on("change:options",()=>{o(t.get("options"))}),n.addEventListener("change",function(a){t.set("selected_value",a.target.value),t.save_changes()}),t.on("change:selected_value",()=>{n.value=t.get("selected_value");let a=new Event("change");n.dispatchEvent(a)}),s.classList.add("widget_dropdown"),s.appendChild(n)}var g={render:l};export{g as default};
