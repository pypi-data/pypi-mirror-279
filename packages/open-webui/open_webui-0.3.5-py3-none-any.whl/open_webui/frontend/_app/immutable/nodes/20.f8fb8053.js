import{s as T,e as _,i as b,d as m,w as I,o as E,f as g,g as h,h as $,j as k,r as j,C as B}from"../chunks/scheduler.8ceb707f.js";import{S as C,i as D,t as u,c as P,a as f,g as V,b as v,d as y,m as w,e as S}from"../chunks/index.07e72a31.js";import{g as q}from"../chunks/navigation.f0e36ffc.js";import{p as H}from"../chunks/stores.55ee61e6.js";import{a as M,u as N,g as z}from"../chunks/index.7e53a0e1.js";import{S as A}from"../chunks/Spinner.73030589.js";import{T as F}from"../chunks/ToolkitEditor.7ac4d87a.js";import{r as G}from"../chunks/index.92b94e22.js";import{a as d}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";function J(i){let e,o,t,n;return t=new A({}),{c(){e=g("div"),o=g("div"),v(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var l=$(e);o=h(l,"DIV",{class:!0});var s=$(o);y(t.$$.fragment,s),s.forEach(m),l.forEach(m),this.h()},h(){k(o,"class","pb-16"),k(e,"class","flex items-center justify-center h-full")},m(r,l){b(r,e,l),j(e,o),w(t,o,null),n=!0},p:B,i(r){n||(f(t.$$.fragment,r),n=!0)},o(r){u(t.$$.fragment,r),n=!1},d(r){r&&m(e),S(t)}}}function K(i){let e,o;return e=new F({props:{edit:!0,id:i[0].id,name:i[0].name,meta:i[0].meta,content:i[0].content}}),e.$on("save",i[2]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){w(e,t,n),o=!0},p(t,n){const r={};n&1&&(r.id=t[0].id),n&1&&(r.name=t[0].name),n&1&&(r.meta=t[0].meta),n&1&&(r.content=t[0].content),e.$set(r)},i(t){o||(f(e.$$.fragment,t),o=!0)},o(t){u(e.$$.fragment,t),o=!1},d(t){S(e,t)}}}function L(i){let e,o,t,n;const r=[K,J],l=[];function s(a,c){return a[0]?0:1}return e=s(i),o=l[e]=r[e](i),{c(){o.c(),t=_()},l(a){o.l(a),t=_()},m(a,c){l[e].m(a,c),b(a,t,c),n=!0},p(a,[c]){let p=e;e=s(a),e===p?l[e].p(a,c):(V(),u(l[p],1,1,()=>{l[p]=null}),P(),o=l[e],o?o.p(a,c):(o=l[e]=r[e](a),o.c()),f(o,1),o.m(t.parentNode,t))},i(a){n||(f(o),n=!0)},o(a){u(o),n=!1},d(a){a&&m(t),l[e].d(a)}}}function O(i,e,o){let t;I(i,H,s=>o(3,t=s));let n=null;const r=async s=>{console.log(s),await N(localStorage.token,n.id,{id:s.id,name:s.name,meta:s.meta,content:s.content}).catch(c=>(d.error(c),null))&&(d.success("Tool updated successfully"),G.set(await z(localStorage.token)))};return E(async()=>{console.log("mounted");const s=t.url.searchParams.get("id");s&&(o(0,n=await M(localStorage.token,s).catch(a=>(d.error(a),q("/workspace/tools"),null))),console.log(n))}),[n,r,s=>{r(s.detail)}]}class te extends C{constructor(e){super(),D(this,e,O,L,T,{})}}export{te as component};
//# sourceMappingURL=20.f8fb8053.js.map
