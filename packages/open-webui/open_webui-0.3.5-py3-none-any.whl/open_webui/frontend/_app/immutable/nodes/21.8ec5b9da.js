import{s as Ue,a as D,e as be,M as Pe,d as _,c as S,i as H,w as x,P as Te,o as je,f as g,g as b,R as Ae,h as w,j as m,r as o,l as T,m as j,Q as G,u as ee,O as Me,n as B,C as ke,v as Ye}from"../chunks/scheduler.8ceb707f.js";import{S as Be,i as Ce,a as J,t as te,c as Ve,g as Ne,b as He,d as qe,m as ze,e as Oe}from"../chunks/index.07e72a31.js";import{g as Ee}from"../chunks/navigation.f0e36ffc.js";import{i as Re,j as We}from"../chunks/index.ec6a2581.js";import{S as Fe}from"../chunks/Spinner.73030589.js";import{c as Le,u as ye,s as Qe,W as Ge,a as Je}from"../chunks/index.92b94e22.js";import{a as me}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{g as Ke}from"../chunks/index.d8705ee6.js";function we(s){let t,a=`<div class="flex space-x-2"><div class="self-center"><img crossorigin="anonymous" src="${Je}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,n,u,l,e,i,c;const E=[Ze,Xe],d=[];function h(r,f){var p,k;return(((p=r[5])==null?void 0:p.features.auth_trusted_header)??!1)||((k=r[5])==null?void 0:k.features.auth)===!1?0:1}return e=h(s),i=d[e]=E[e](s),{c(){t=g("div"),t.innerHTML=a,n=D(),u=g("div"),l=g("div"),i.c(),this.h()},l(r){t=b(r,"DIV",{class:!0,"data-svelte-h":!0}),Ae(t)!=="svelte-18zumjz"&&(t.innerHTML=a),n=S(r),u=b(r,"DIV",{class:!0});var f=w(u);l=b(f,"DIV",{class:!0});var p=w(l);i.l(p),p.forEach(_),f.forEach(_),this.h()},h(){m(t,"class","fixed m-10 z-50"),m(l,"class","w-full sm:max-w-md px-10 min-h-screen flex flex-col text-center"),m(u,"class","bg-white dark:bg-gray-950 min-h-screen w-full flex justify-center font-mona svelte-zxai24")},m(r,f){H(r,t,f),H(r,n,f),H(r,u,f),o(u,l),d[e].m(l,null),c=!0},p(r,f){let p=e;e=h(r),e===p?d[e].p(r,f):(Ne(),te(d[p],1,1,()=>{d[p]=null}),Ve(),i=d[e],i?i.p(r,f):(i=d[e]=E[e](r),i.c()),J(i,1),i.m(l,null))},i(r){c||(J(i),c=!0)},o(r){te(i),c=!1},d(r){r&&(_(t),_(n),_(u)),d[e].d()}}}function Xe(s){var _e;let t,a,n,u,l=(s[1]==="signin"?s[6].t("Sign in"):s[6].t("Sign up"))+"",e,i,c=s[6].t("to")+"",E,d,h,r,f,p,k,I,A,M=s[6].t("Email")+"",z,K,Y,X,y,q,F,Z=s[6].t("Password")+"",le,ue,C,se,fe,O,W,$=(s[1]==="signin"?s[6].t("Sign in"):s[6].t("Create Account"))+"",ae,de,ce,pe,N=s[1]==="signup"&&Ie(s),U=s[1]==="signup"&&De(s),P=((_e=s[5])==null?void 0:_e.features.enable_signup)&&Se(s);return{c(){t=g("div"),a=g("form"),n=g("div"),u=g("div"),e=T(l),i=D(),E=T(c),d=D(),h=T(s[7]),r=D(),N&&N.c(),f=D(),p=g("div"),U&&U.c(),k=D(),I=g("div"),A=g("div"),z=T(M),K=D(),Y=g("input"),y=D(),q=g("div"),F=g("div"),le=T(Z),ue=D(),C=g("input"),fe=D(),O=g("div"),W=g("button"),ae=T($),de=D(),P&&P.c(),this.h()},l(v){t=b(v,"DIV",{class:!0});var V=w(t);a=b(V,"FORM",{class:!0});var R=w(a);n=b(R,"DIV",{class:!0});var ne=w(n);u=b(ne,"DIV",{class:!0});var L=w(u);e=j(L,l),i=S(L),E=j(L,c),d=S(L),h=j(L,s[7]),L.forEach(_),r=S(ne),N&&N.l(ne),ne.forEach(_),f=S(R),p=b(R,"DIV",{class:!0});var Q=w(p);U&&U.l(Q),k=S(Q),I=b(Q,"DIV",{class:!0});var ie=w(I);A=b(ie,"DIV",{class:!0});var ve=w(A);z=j(ve,M),ve.forEach(_),K=S(ie),Y=b(ie,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),ie.forEach(_),y=S(Q),q=b(Q,"DIV",{});var re=w(q);F=b(re,"DIV",{class:!0});var he=w(F);le=j(he,Z),he.forEach(_),ue=S(re),C=b(re,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),re.forEach(_),Q.forEach(_),fe=S(R),O=b(R,"DIV",{class:!0});var oe=w(O);W=b(oe,"BUTTON",{class:!0,type:!0});var ge=w(W);ae=j(ge,$),ge.forEach(_),de=S(oe),P&&P.l(oe),oe.forEach(_),R.forEach(_),V.forEach(_),this.h()},h(){m(u,"class","text-2xl font-medium"),m(n,"class","mb-1"),m(A,"class","text-sm font-medium text-left mb-1"),m(Y,"type","email"),m(Y,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),m(Y,"autocomplete","email"),m(Y,"placeholder",X=s[6].t("Enter Your Email")),Y.required=!0,m(I,"class","mb-2"),m(F,"class","text-sm font-medium text-left mb-1"),m(C,"type","password"),m(C,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),m(C,"placeholder",se=s[6].t("Enter Your Password")),m(C,"autocomplete","current-password"),C.required=!0,m(p,"class","flex flex-col mt-4"),m(W,"class","bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-medium text-sm py-3 transition"),m(W,"type","submit"),m(O,"class","mt-5"),m(a,"class","flex flex-col justify-center"),m(t,"class","my-auto pb-10 w-full dark:text-gray-100")},m(v,V){H(v,t,V),o(t,a),o(a,n),o(n,u),o(u,e),o(u,i),o(u,E),o(u,d),o(u,h),o(n,r),N&&N.m(n,null),o(a,f),o(a,p),U&&U.m(p,null),o(p,k),o(p,I),o(I,A),o(A,z),o(I,K),o(I,Y),G(Y,s[3]),o(p,y),o(p,q),o(q,F),o(F,le),o(q,ue),o(q,C),G(C,s[4]),o(a,fe),o(a,O),o(O,W),o(W,ae),o(O,de),P&&P.m(O,null),ce||(pe=[ee(Y,"input",s[11]),ee(C,"input",s[12]),ee(a,"submit",Me(s[14]))],ce=!0)},p(v,V){var R;V&66&&l!==(l=(v[1]==="signin"?v[6].t("Sign in"):v[6].t("Sign up"))+"")&&B(e,l),V&64&&c!==(c=v[6].t("to")+"")&&B(E,c),V&128&&B(h,v[7]),v[1]==="signup"?N?N.p(v,V):(N=Ie(v),N.c(),N.m(n,null)):N&&(N.d(1),N=null),v[1]==="signup"?U?U.p(v,V):(U=De(v),U.c(),U.m(p,k)):U&&(U.d(1),U=null),V&64&&M!==(M=v[6].t("Email")+"")&&B(z,M),V&64&&X!==(X=v[6].t("Enter Your Email"))&&m(Y,"placeholder",X),V&8&&Y.value!==v[3]&&G(Y,v[3]),V&64&&Z!==(Z=v[6].t("Password")+"")&&B(le,Z),V&64&&se!==(se=v[6].t("Enter Your Password"))&&m(C,"placeholder",se),V&16&&C.value!==v[4]&&G(C,v[4]),V&66&&$!==($=(v[1]==="signin"?v[6].t("Sign in"):v[6].t("Create Account"))+"")&&B(ae,$),(R=v[5])!=null&&R.features.enable_signup?P?P.p(v,V):(P=Se(v),P.c(),P.m(O,null)):P&&(P.d(1),P=null)},i:ke,o:ke,d(v){v&&_(t),N&&N.d(),U&&U.d(),P&&P.d(),ce=!1,Ye(pe)}}}function Ze(s){let t,a,n,u=s[6].t("Signing in")+"",l,e,i=s[6].t("to")+"",c,E,d,h,r,f,p;return f=new Fe({}),{c(){t=g("div"),a=g("div"),n=g("div"),l=T(u),e=D(),c=T(i),E=D(),d=T(s[7]),h=D(),r=g("div"),He(f.$$.fragment),this.h()},l(k){t=b(k,"DIV",{class:!0});var I=w(t);a=b(I,"DIV",{class:!0});var A=w(a);n=b(A,"DIV",{});var M=w(n);l=j(M,u),e=S(M),c=j(M,i),E=S(M),d=j(M,s[7]),M.forEach(_),h=S(A),r=b(A,"DIV",{});var z=w(r);qe(f.$$.fragment,z),z.forEach(_),A.forEach(_),I.forEach(_),this.h()},h(){m(a,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-medium dark:text-gray-200"),m(t,"class","my-auto pb-10 w-full")},m(k,I){H(k,t,I),o(t,a),o(a,n),o(n,l),o(n,e),o(n,c),o(n,E),o(n,d),o(a,h),o(a,r),ze(f,r,null),p=!0},p(k,I){(!p||I&64)&&u!==(u=k[6].t("Signing in")+"")&&B(l,u),(!p||I&64)&&i!==(i=k[6].t("to")+"")&&B(c,i),(!p||I&128)&&B(d,k[7])},i(k){p||(J(f.$$.fragment,k),p=!0)},o(k){te(f.$$.fragment,k),p=!1},d(k){k&&_(t),Oe(f)}}}function Ie(s){let t,a,n,u,l=s[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"",e;return{c(){t=g("div"),a=T("ⓘ "),n=T(s[7]),u=D(),e=T(l),this.h()},l(i){t=b(i,"DIV",{class:!0});var c=w(t);a=j(c,"ⓘ "),n=j(c,s[7]),u=S(c),e=j(c,l),c.forEach(_),this.h()},h(){m(t,"class","mt-1 text-xs font-medium text-gray-500")},m(i,c){H(i,t,c),o(t,a),o(t,n),o(t,u),o(t,e)},p(i,c){c&128&&B(n,i[7]),c&64&&l!==(l=i[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"")&&B(e,l)},d(i){i&&_(t)}}}function De(s){let t,a,n=s[6].t("Name")+"",u,l,e,i,c,E,d,h;return{c(){t=g("div"),a=g("div"),u=T(n),l=D(),e=g("input"),c=D(),E=g("hr"),this.h()},l(r){t=b(r,"DIV",{});var f=w(t);a=b(f,"DIV",{class:!0});var p=w(a);u=j(p,n),p.forEach(_),l=S(f),e=b(f,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),f.forEach(_),c=S(r),E=b(r,"HR",{class:!0}),this.h()},h(){m(a,"class","text-sm font-medium text-left mb-1"),m(e,"type","text"),m(e,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),m(e,"autocomplete","name"),m(e,"placeholder",i=s[6].t("Enter Your Full Name")),e.required=!0,m(E,"class","my-3 dark:border-gray-900")},m(r,f){H(r,t,f),o(t,a),o(a,u),o(t,l),o(t,e),G(e,s[2]),H(r,c,f),H(r,E,f),d||(h=ee(e,"input",s[10]),d=!0)},p(r,f){f&64&&n!==(n=r[6].t("Name")+"")&&B(u,n),f&64&&i!==(i=r[6].t("Enter Your Full Name"))&&m(e,"placeholder",i),f&4&&e.value!==r[2]&&G(e,r[2])},d(r){r&&(_(t),_(c),_(E)),d=!1,h()}}}function Se(s){let t,a=(s[1]==="signin"?s[6].t("Don't have an account?"):s[6].t("Already have an account?"))+"",n,u,l,e=(s[1]==="signin"?s[6].t("Sign up"):s[6].t("Sign in"))+"",i,c,E;return{c(){t=g("div"),n=T(a),u=D(),l=g("button"),i=T(e),this.h()},l(d){t=b(d,"DIV",{class:!0});var h=w(t);n=j(h,a),u=S(h),l=b(h,"BUTTON",{class:!0,type:!0});var r=w(l);i=j(r,e),r.forEach(_),h.forEach(_),this.h()},h(){m(l,"class","font-medium underline"),m(l,"type","button"),m(t,"class","mt-4 text-sm text-center")},m(d,h){H(d,t,h),o(t,n),o(t,u),o(t,l),o(l,i),c||(E=ee(l,"click",s[13]),c=!0)},p(d,h){h&66&&a!==(a=(d[1]==="signin"?d[6].t("Don't have an account?"):d[6].t("Already have an account?"))+"")&&B(n,a),h&66&&e!==(e=(d[1]==="signin"?d[6].t("Sign up"):d[6].t("Sign in"))+"")&&B(i,e)},d(d){d&&_(t),c=!1,E()}}}function $e(s){let t,a,n,u;document.title=t=`
		${s[7]}
	`;let l=s[0]&&we(s);return{c(){a=D(),l&&l.c(),n=be()},l(e){Pe("svelte-sdpf07",document.head).forEach(_),a=S(e),l&&l.l(e),n=be()},m(e,i){H(e,a,i),l&&l.m(e,i),H(e,n,i),u=!0},p(e,[i]){(!u||i&128)&&t!==(t=`
		${e[7]}
	`)&&(document.title=t),e[0]?l?(l.p(e,i),i&1&&J(l,1)):(l=we(e),l.c(),J(l,1),l.m(n.parentNode,n)):l&&(Ne(),te(l,1,1,()=>{l=null}),Ve())},i(e){u||(J(l),u=!0)},o(e){te(l),u=!1},d(e){e&&(_(a),_(n)),l&&l.d(e)}}}function xe(s,t,a){let n,u,l,e,i;x(s,Le,y=>a(5,n=y)),x(s,ye,y=>a(15,u=y)),x(s,Qe,y=>a(16,l=y)),x(s,Ge,y=>a(7,i=y));const c=Te("i18n");x(s,c,y=>a(6,e=y));let E=!1,d="signin",h="",r="",f="";const p=async y=>{y&&(console.log(y),me.success(e.t("You're now logged in.")),localStorage.token=y.token,l.emit("user-join",{auth:{token:y.token}}),await ye.set(y),Ee("/"))},k=async()=>{const y=await Re(r,f).catch(q=>(me.error(q),null));await p(y)},I=async()=>{const y=await We(h,r,f,Ke(h)).catch(q=>(me.error(q),null));await p(y)},A=async()=>{d==="signin"?await k():await I()};je(async()=>{u!==void 0&&await Ee("/"),a(0,E=!0),(((n==null?void 0:n.features.auth_trusted_header)??!1)||(n==null?void 0:n.features.auth)===!1)&&await k()});function M(){h=this.value,a(2,h)}function z(){r=this.value,a(3,r)}function K(){f=this.value,a(4,f)}return[E,d,h,r,f,n,e,i,c,A,M,z,K,()=>{d==="signin"?a(1,d="signup"):a(1,d="signin")},()=>{A()}]}class ot extends Be{constructor(t){super(),Ce(this,t,xe,$e,Ue,{})}}export{ot as component};
//# sourceMappingURL=21.8ec5b9da.js.map
