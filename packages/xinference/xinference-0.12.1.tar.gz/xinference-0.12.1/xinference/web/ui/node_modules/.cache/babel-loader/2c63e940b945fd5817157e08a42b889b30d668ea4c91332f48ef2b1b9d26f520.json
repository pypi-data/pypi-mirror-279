{"ast":null,"code":"import _slicedToArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{TabContext,TabList,TabPanel}from'@mui/lab';import{Box,Tab}from'@mui/material';import React,{useEffect}from'react';import{useCookies}from'react-cookie';import{useNavigate}from'react-router-dom';import ErrorMessageSnackBar from'../../components/errorMessageSnackBar';import Title from'../../components/Title';import RegisterModelComponent from'./registerModel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterModel=function RegisterModel(){var _React$useState=React.useState('/register_model/llm'),_React$useState2=_slicedToArray(_React$useState,2),tabValue=_React$useState2[0],setTabValue=_React$useState2[1];var _useCookies=useCookies(['token']),_useCookies2=_slicedToArray(_useCookies,1),cookie=_useCookies2[0];var navigate=useNavigate();useEffect(function(){if(cookie.token===''||cookie.token===undefined){return;}if(cookie.token!=='no_auth'&&!sessionStorage.getItem('token')){navigate('/login',{replace:true});return;}},[cookie.token]);return/*#__PURE__*/_jsxs(Box,{m:\"20px\",children:[/*#__PURE__*/_jsx(Title,{title:\"Register Model\"}),/*#__PURE__*/_jsx(ErrorMessageSnackBar,{}),/*#__PURE__*/_jsxs(TabContext,{value:tabValue,children:[/*#__PURE__*/_jsx(Box,{sx:{borderBottom:1,borderColor:'divider'},children:/*#__PURE__*/_jsxs(TabList,{value:tabValue,onChange:function onChange(e,v){setTabValue(v);},\"aria-label\":\"tabs\",children:[/*#__PURE__*/_jsx(Tab,{label:\"Language Model\",value:\"/register_model/llm\"}),/*#__PURE__*/_jsx(Tab,{label:\"Embedding Model\",value:\"/register_model/embedding\"}),/*#__PURE__*/_jsx(Tab,{label:\"Rerank Model\",value:\"/register_model/rerank\"}),/*#__PURE__*/_jsx(Tab,{label:\"Image Model\",value:\"/register_model/image\"}),/*#__PURE__*/_jsx(Tab,{label:\"Audio Model\",value:\"/register_model/audio\"})]})}),/*#__PURE__*/_jsx(TabPanel,{value:\"/register_model/llm\",sx:{padding:0},children:/*#__PURE__*/_jsx(RegisterModelComponent,{modelType:\"LLM\",customData:{version:1,model_name:'custom-llm',model_description:'This is a custom model description.',context_length:2048,model_lang:['en'],model_ability:['generate'],model_family:'',model_specs:[{model_uri:'/path/to/llama-2',model_size_in_billions:7,model_format:'pytorch',quantizations:['none']}],prompt_style:undefined}})}),/*#__PURE__*/_jsx(TabPanel,{value:\"/register_model/embedding\",sx:{padding:0},children:/*#__PURE__*/_jsx(RegisterModelComponent,{modelType:\"embedding\",customData:{model_name:'custom-embedding',dimensions:768,max_tokens:512,model_uri:'/path/to/embedding-model',language:['en']}})}),/*#__PURE__*/_jsx(TabPanel,{value:\"/register_model/rerank\",sx:{padding:0},children:/*#__PURE__*/_jsx(RegisterModelComponent,{modelType:\"rerank\",customData:{model_name:'custom-rerank',model_uri:'/path/to/rerank-model',language:['en']}})}),/*#__PURE__*/_jsx(TabPanel,{value:\"/register_model/image\",sx:{padding:0},children:/*#__PURE__*/_jsx(RegisterModelComponent,{modelType:\"image\",customData:{model_name:'custom-image',model_uri:'/path/to/image-model',model_family:'stable_diffusion',controlnet:[]}})}),/*#__PURE__*/_jsx(TabPanel,{value:\"/register_model/audio\",sx:{padding:0},children:/*#__PURE__*/_jsx(RegisterModelComponent,{modelType:\"audio\",customData:{model_name:'custom-audio',model_uri:'/path/to/audio-model',multilingual:false,model_family:'whisper'}})})]})]});};export default RegisterModel;","map":{"version":3,"names":["TabContext","TabList","TabPanel","Box","Tab","React","useEffect","useCookies","useNavigate","ErrorMessageSnackBar","Title","RegisterModelComponent","jsx","_jsx","jsxs","_jsxs","RegisterModel","_React$useState","useState","_React$useState2","_slicedToArray","tabValue","setTabValue","_useCookies","_useCookies2","cookie","navigate","token","undefined","sessionStorage","getItem","replace","m","children","title","value","sx","borderBottom","borderColor","onChange","e","v","label","padding","modelType","customData","version","model_name","model_description","context_length","model_lang","model_ability","model_family","model_specs","model_uri","model_size_in_billions","model_format","quantizations","prompt_style","dimensions","max_tokens","language","controlnet","multilingual"],"sources":["/home/runner/work/inference/inference/xinference/web/ui/src/scenes/register_model/index.js"],"sourcesContent":["import { TabContext, TabList, TabPanel } from '@mui/lab'\nimport { Box, Tab } from '@mui/material'\nimport React, { useEffect } from 'react'\nimport { useCookies } from 'react-cookie'\nimport { useNavigate } from 'react-router-dom'\n\nimport ErrorMessageSnackBar from '../../components/errorMessageSnackBar'\nimport Title from '../../components/Title'\nimport RegisterModelComponent from './registerModel'\n\nconst RegisterModel = () => {\n  const [tabValue, setTabValue] = React.useState('/register_model/llm')\n  const [cookie] = useCookies(['token'])\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    if (cookie.token === '' || cookie.token === undefined) {\n      return\n    }\n    if (cookie.token !== 'no_auth' && !sessionStorage.getItem('token')) {\n      navigate('/login', { replace: true })\n      return\n    }\n  }, [cookie.token])\n\n  return (\n    <Box m=\"20px\">\n      <Title title=\"Register Model\" />\n      <ErrorMessageSnackBar />\n      <TabContext value={tabValue}>\n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n          <TabList\n            value={tabValue}\n            onChange={(e, v) => {\n              setTabValue(v)\n            }}\n            aria-label=\"tabs\"\n          >\n            <Tab label=\"Language Model\" value=\"/register_model/llm\" />\n            <Tab label=\"Embedding Model\" value=\"/register_model/embedding\" />\n            <Tab label=\"Rerank Model\" value=\"/register_model/rerank\" />\n            <Tab label=\"Image Model\" value=\"/register_model/image\" />\n            <Tab label=\"Audio Model\" value=\"/register_model/audio\" />\n          </TabList>\n        </Box>\n        <TabPanel value=\"/register_model/llm\" sx={{ padding: 0 }}>\n          <RegisterModelComponent\n            modelType=\"LLM\"\n            customData={{\n              version: 1,\n              model_name: 'custom-llm',\n              model_description: 'This is a custom model description.',\n              context_length: 2048,\n              model_lang: ['en'],\n              model_ability: ['generate'],\n              model_family: '',\n              model_specs: [\n                {\n                  model_uri: '/path/to/llama-2',\n                  model_size_in_billions: 7,\n                  model_format: 'pytorch',\n                  quantizations: ['none'],\n                },\n              ],\n              prompt_style: undefined,\n            }}\n          />\n        </TabPanel>\n        <TabPanel value=\"/register_model/embedding\" sx={{ padding: 0 }}>\n          <RegisterModelComponent\n            modelType=\"embedding\"\n            customData={{\n              model_name: 'custom-embedding',\n              dimensions: 768,\n              max_tokens: 512,\n              model_uri: '/path/to/embedding-model',\n              language: ['en'],\n            }}\n          />\n        </TabPanel>\n        <TabPanel value=\"/register_model/rerank\" sx={{ padding: 0 }}>\n          <RegisterModelComponent\n            modelType=\"rerank\"\n            customData={{\n              model_name: 'custom-rerank',\n              model_uri: '/path/to/rerank-model',\n              language: ['en'],\n            }}\n          />\n        </TabPanel>\n        <TabPanel value=\"/register_model/image\" sx={{ padding: 0 }}>\n          <RegisterModelComponent\n            modelType=\"image\"\n            customData={{\n              model_name: 'custom-image',\n              model_uri: '/path/to/image-model',\n              model_family: 'stable_diffusion',\n              controlnet: [],\n            }}\n          />\n        </TabPanel>\n        <TabPanel value=\"/register_model/audio\" sx={{ padding: 0 }}>\n          <RegisterModelComponent\n            modelType=\"audio\"\n            customData={{\n              model_name: 'custom-audio',\n              model_uri: '/path/to/audio-model',\n              multilingual: false,\n              model_family: 'whisper',\n            }}\n          />\n        </TabPanel>\n      </TabContext>\n    </Box>\n  )\n}\n\nexport default RegisterModel\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}