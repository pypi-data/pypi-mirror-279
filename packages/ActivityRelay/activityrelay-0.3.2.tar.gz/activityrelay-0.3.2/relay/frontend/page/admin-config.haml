-extends "base.haml"
-set page="Config"

-block head
	%script(type="application/javascript" src="/static/config.js" nonce="{{view.request['hash']}}" defer)

-import "functions.haml" as func
-block content
	%fieldset.section
		%legend << Config

		.grid-2col
			%label(for="name") << Name
			%input(id = "name" placeholder="Relay Name" value="{{config.name or ''}}")

			%label(for="note") << Description
			%textarea(id="note" value="{{config.note or ''}}") << {{config.note}}

			%label(for="theme") << Color Theme
			=func.new_select("theme", config.theme, themes)

			%label(for="log-level") << Log Level
			=func.new_select("log-level", config.log_level.name, levels)

			%label(for="whitelist-enabled") << Whitelist
			=func.new_checkbox("whitelist-enabled", config.whitelist_enabled)

			%label(for="approval-required") << Approval Required
			=func.new_checkbox("approval-required", config.approval_required)
