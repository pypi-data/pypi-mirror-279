(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9650],{56069:function(e,n,t){"use strict";t.d(n,{R:function(){return x}});var i=t(90849),r=t(90089),s=t(28841),o=t(79894),c=t.n(o),l=t(24246),a=["backPath"],d=["onClick"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var x=function(e){var n=e.onClick,t=(0,r.Z)(e,d);return(0,l.jsxs)(s.kCb,h(h({alignItems:"center",mt:-4,mb:3,onClick:n,cursor:"pointer"},t),{},{children:[(0,l.jsx)(s.hU,{"aria-label":"Back",icon:(0,l.jsx)(s.Rpv,{}),mr:2,size:"xs",variant:"outline"}),(0,l.jsx)(s.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})]}))};n.Z=function(e){var n=e.backPath,t=(0,r.Z)(e,a);return(0,l.jsxs)(s.kCb,h(h({alignItems:"center",mb:6},t),{},{children:[(0,l.jsx)(c(),{href:n,passHref:!0,children:(0,l.jsx)(s.hU,{"aria-label":"Back",icon:(0,l.jsx)(s.Rpv,{}),mr:2,size:"xs",variant:"outline"})}),(0,l.jsx)(c(),{href:n,passHref:!0,children:(0,l.jsx)(s.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},29083:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return K}});var i=t(28841),r=t(86677),s=t(51471),o=t(56069),c=t(60709),l=t(89403),a=t(27378),d=t(45886),u=t(24246),h=function(e){var n={};return e.forEach((function(e){var t=e.collection_name,i=e.updated_at;(!n[t]||new Date(n[t].updated_at)<new Date(i))&&(n[t]=e)})),Object.values(n).some((function(e){return e.status===d.np.ERROR}))},x=function(e){var n=e.subjectRequest,t=e.setEventDetails,r=n.results,s=r?Object.keys(r):[],o=s.map((function(e,n){return(0,u.jsxs)(i.xuv,{children:[(0,u.jsxs)(i.kCb,{alignItems:"center",height:23,position:"relative",children:[(0,u.jsx)(i.xuv,{zIndex:1,children:h(r[e])?(0,u.jsx)(i.f9v,{}):(0,u.jsx)(i.StI,{})}),n===s.length-1?null:(0,u.jsx)(i.xuv,{width:"2px",height:"63px",backgroundColor:"gray.700",position:"absolute",top:"16px",left:"6px",zIndex:0}),(0,u.jsx)(i.xvT,{color:"gray.600",fontWeight:"500",fontSize:"sm",ml:2,children:e})]}),(0,u.jsx)(i.xvT,{cursor:"pointer",color:"complimentary.500",fontWeight:"500",fontSize:"sm",ml:6,mb:7,onClick:function(){t({key:e,logs:r[e]})},children:"View Details"})]},e)}));return(0,u.jsxs)(i.xuv,{width:"100%",children:[(0,u.jsx)(i.xvT,{color:"gray.900",fontSize:"md",fontWeight:"500",mb:1,children:"Activity timeline"}),o]})},f=t(56602),p=function(e){var n=e.errorMessage;return(0,u.jsxs)(i.xuv,{height:"100%",id:"outer",children:[(0,u.jsxs)(i.kCb,{alignItems:"center",paddingBottom:"8px",children:[(0,u.jsx)(i.xvT,{size:"sm",color:"gray.700",fontWeight:"medium",marginRight:"8px",lineHeight:"20px",children:"Status"}),(0,u.jsx)(i.Vp9,{size:"sm",height:"20px",backgroundColor:"red.500",color:"white",marginRight:"8px",children:"Error"}),(0,u.jsx)(i.xuv,{padding:"0px",marginBottom:"3px",children:(0,u.jsx)(f.Z,{copyText:n})})]}),(0,u.jsx)(i.izJ,{}),(0,u.jsx)(i.xuv,{id:"errorWrapper",overflow:"auto",height:"100%",children:(0,u.jsx)(i.xvT,{children:n})})]})},j=t(1326),g=t(9481),m=function(e){var n=e.eventLogs,t=e.openErrorPanel,r=null===n||void 0===n?void 0:n.map((function(e){return(0,u.jsxs)(i.Tr,{_hover:{backgroundColor:e.status===g.n.ERROR?"#F7FAFC":"unset"},onClick:function(){e.status===g.n.ERROR&&t(e.message)},style:{cursor:e.status===g.n.ERROR?"pointer":"unset"},children:[(0,u.jsx)(i.Td,{children:(0,u.jsx)(i.xvT,{color:"gray.600",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:(0,j.p6)(e.updated_at)})}),(0,u.jsx)(i.Td,{children:(0,u.jsx)(i.xvT,{color:"gray.600",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:e.status})}),(0,u.jsx)(i.Td,{children:(0,u.jsx)(i.xvT,{color:"gray.600",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:e.collection_name})})]},e.updated_at)}));return(0,u.jsx)(i.xuv,{width:"100%",paddingTop:"0px",height:"100%",children:(0,u.jsx)(i.xJi,{id:"tableContainer",height:"100%",style:{overflowY:"auto"},children:(0,u.jsxs)(i.iA_,{size:"sm",id:"table",position:"relative",children:[(0,u.jsx)(i.hrZ,{id:"tableHeader",position:"sticky",top:"0px",backgroundColor:"white",children:(0,u.jsxs)(i.Tr,{children:[(0,u.jsx)(i.Th,{children:(0,u.jsx)(i.xvT,{color:"black",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:"Time"})}),(0,u.jsx)(i.Th,{children:(0,u.jsx)(i.xvT,{color:"black",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:"Status"})}),(0,u.jsx)(i.Th,{children:(0,u.jsx)(i.xvT,{color:"black",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:"Collection"})})]})}),(0,u.jsx)(i.p3B,{id:"tabelBody",children:r})]})})})},v=function(e){var n=e.eventData,t=(0,i.qY0)(),r=t.isOpen,s=t.onOpen,o=t.onClose,c=(0,a.useState)(!1),l=c[0],d=c[1],h=(0,a.useState)(""),x=h[0],f=h[1],j=function(){d(!1)},g=function(){l&&j(),o()},v=l?"Event detail":"Event log";return void 0===n?null:(0,u.jsxs)(i.xuv,{width:"100%",paddingTop:"0px",height:"100%",children:[(0,u.jsx)(i.xvT,{color:"gray.900",fontSize:"md",fontWeight:"500",mb:1,children:"Event Details"}),(0,u.jsx)(i.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"500",lineHeight:"20px",mb:1,children:n.key}),(0,u.jsx)(i.izJ,{}),(0,u.jsx)(i.xvT,{cursor:"pointer",color:"complimentary.500",fontWeight:"500",fontSize:"sm",onClick:function(){s()},children:"View Log"}),(0,u.jsxs)(i.dys,{isOpen:r,placement:"right",onClose:g,size:"full",autoFocus:!1,children:[(0,u.jsx)(i.P1B,{}),(0,u.jsxs)(i.scA,{style:{width:"50%"},children:[(0,u.jsx)(i.OXI,{style:{paddingBottom:"0px"},children:(0,u.jsxs)(i.kCb,{justifyContent:"space-between",alignItems:"center",height:"40px",children:[(0,u.jsxs)(i.kCb,{alignItems:"center",children:[l?(0,u.jsx)(i.hU,{icon:(0,u.jsx)(i.Rpv,{}),"aria-label":"Close error logs",size:"sm",style:{height:"24px",width:"24px",minWidth:"24px",marginRight:"8px"},onClick:j}):null,(0,u.jsx)(i.xvT,{color:"gray.900",fontSize:"md",lineHeight:"6",fontWeight:"medium",children:v})]}),(0,u.jsx)(i.kCb,{alignItems:"flex-start",height:"100%",children:(0,u.jsx)(i.hU,{icon:(0,u.jsx)(i.LGN,{width:"17px"}),"aria-label":"Stop viewing error message",variant:"unstyled",size:"sm",style:{height:"24px",width:"24px",minWidth:"14px",backgroundColor:"#00000000"},isRound:!0,onClick:g})})]})}),(0,u.jsxs)(i.Ng0,{id:"drawerBody",overflow:"hidden",children:[n&&!l?(0,u.jsx)(m,{eventLogs:n.logs,openErrorPanel:function(e){f(e),d(!0)}}):null,l?(0,u.jsx)(p,{errorMessage:x}):null]})]})]})]})},b=function(e){var n=e.subjectRequest,t=(0,a.useState)(),r=t[0],s=t[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.X6q,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Events and logs"}),(0,u.jsx)(i.izJ,{}),(0,u.jsxs)(i.kCb,{mt:3,children:[(0,u.jsx)(x,{subjectRequest:n,setEventDetails:s}),(0,u.jsx)(v,{eventData:r})]})]})},y=t(90849),k=t(55732),O=t(97865),S=t(34707),z=t.n(S),w=t(9408),C=t(57928),_=t(51365),T=t(6848),P=t(1540),R=t(34090),W=t(14633);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){(0,y.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var I=function(e){var n=e.connectorName,t=e.data,r=e.isSubmitting,s=void 0!==r&&r,o=e.onSaveClick,c=(0,i.qY0)(),l=c.isOpen,d=c.onOpen,h=c.onClose,x=(0,a.useRef)(null),f=function(){var e=(0,k.Z)(z().mark((function e(n,i){var r;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={connection_key:t.connection_key,privacy_request_id:t.privacy_request_id,body:q({},n)},o(r),h();case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(null===t||void 0===t?void 0:t.checked)&&(0,u.jsx)(i.zxk,{color:"gray.700",fontSize:"xs",h:"24px",onClick:d,variant:"outline",w:"58px",children:"Review"}),!(null!==t&&void 0!==t&&t.checked)&&(0,u.jsx)(i.zxk,{color:"white",bg:"primary.800",fontSize:"xs",h:"24px",onClick:d,w:"127px",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Begin manual input"}),(0,u.jsx)(R.J9,{enableReinitialize:!0,initialValues:q({},t.fields),onSubmit:f,validateOnBlur:!1,validateOnChange:!1,validationSchema:W.Ry().shape({}),children:function(e){return(0,u.jsxs)(i.dys,{isOpen:l,placement:"right",initialFocusRef:x,onClose:h,size:"lg",children:[(0,u.jsx)(i.P1B,{}),(0,u.jsxs)(i.scA,{children:[(0,u.jsx)(i.cCv,{}),(0,u.jsxs)(i.OXI,{color:"gray.900",children:[(0,u.jsx)(i.xvT,{fontSize:"xl",mb:8,children:n}),(0,u.jsx)(i.izJ,{}),(0,u.jsx)(i.xvT,{fontSize:"md",mt:"4",children:"Manual access"}),(0,u.jsx)(i.xuv,{mt:"8px",children:(0,u.jsx)(i.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"normal",children:"Please complete the following PII fields that have been collected for the selected subject."})})]}),(0,u.jsx)(i.Ng0,{children:(0,u.jsx)(R.l0,{id:"manual-detail-form",noValidate:!0,children:(0,u.jsx)(i.gCW,{align:"stretch",gap:"16px",children:Object.entries(t.fields).map((function(e,n){var t=(0,O.Z)(e,1)[0];return(0,u.jsx)(i.Ugi,{children:(0,u.jsx)(R.gN,{id:t,name:t,children:function(e){var r=e.field;return(0,u.jsxs)(i.NIc,{alignItems:"baseline",display:"inline-flex",children:[(0,u.jsx)(i.lXp,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:t,w:"50%",children:t}),(0,u.jsx)(i.IIB,q(q({},r),{},{autoComplete:"off",color:"gray.700",placeholder:"Please enter ".concat(t),ref:0===n?x:void 0,size:"sm"}))]})}})},t)}))})})}),(0,u.jsx)(i.zeN,{justifyContent:"flex-start",children:(0,u.jsxs)(i.hE2,{size:"sm",spacing:"8px",variant:"outline",children:[(0,u.jsx)(i.zxk,{onClick:h,variant:"outline",children:"Cancel"}),(0,u.jsx)(i.zxk,{bg:"primary.800",color:"white",form:"manual-detail-form",isLoading:s,loadingText:"Submitting",size:"sm",variant:"solid",type:"submit",_active:{bg:"primary.500"},_hover:{bg:"primary.400"},children:"Save"})]})})]})]})}})]})};function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,y.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var A=function(e){var n=e.connectorName,t=e.data,r=e.isSubmitting,s=void 0!==r&&r,o=e.onSaveClick,c=(0,i.qY0)(),l=c.isOpen,d=c.onOpen,h=c.onClose,x=(0,a.useRef)(null),f=function(){var e=(0,k.Z)(z().mark((function e(n,i){var r;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={connection_key:t.connection_key,privacy_request_id:t.privacy_request_id,body:D({},n)},o(r),h();case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(null===t||void 0===t?void 0:t.checked)&&(0,u.jsx)(i.zxk,{color:"gray.700",fontSize:"xs",h:"24px",onClick:d,variant:"outline",w:"58px",children:"Review"}),!(null!==t&&void 0!==t&&t.checked)&&(0,u.jsx)(i.zxk,{color:"white",bg:"primary.800",fontSize:"xs",h:"24px",onClick:d,w:"127px",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Begin manual input"}),(0,u.jsx)(R.J9,{enableReinitialize:!0,initialValues:D({},t.fields),onSubmit:f,validateOnBlur:!1,validateOnChange:!1,validationSchema:W.Ry().shape({}),children:function(e){return(0,u.jsxs)(i.dys,{isOpen:l,placement:"right",initialFocusRef:x,onClose:h,size:"lg",children:[(0,u.jsx)(i.P1B,{}),(0,u.jsxs)(i.scA,{children:[(0,u.jsx)(i.cCv,{}),(0,u.jsxs)(i.OXI,{color:"gray.900",children:[(0,u.jsx)(i.xvT,{fontSize:"xl",mb:8,children:n}),(0,u.jsx)(i.izJ,{}),(0,u.jsx)(i.xvT,{fontSize:"md",mt:"4",children:"Manual erasure"}),(0,u.jsx)(i.xuv,{mt:"8px",children:(0,u.jsx)(i.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"normal",children:"Please delete the following PII fields associated with the selected subject if they are available. Once deleted, check the box to confirm the deletion."})})]}),(0,u.jsx)(i.Ng0,{children:(0,u.jsx)(R.l0,{id:"manual-detail-form",noValidate:!0,children:(0,u.jsx)(i.gCW,{align:"stretch",gap:"16px",children:Object.entries(t.fields).map((function(e){var n=(0,O.Z)(e,1)[0];return(0,u.jsx)(i.Ugi,{children:(0,u.jsx)(R.gN,{id:n,name:n,children:function(e){var t=e.field;return(0,u.jsxs)(i.NIc,{alignItems:"baseline",display:"inline-flex",children:[(0,u.jsx)(i.lXp,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:n,w:"50%",children:n}),(0,u.jsx)(i.XZJ,D(D({},t),{},{isChecked:!!t.value,onChange:t.onChange,name:n,id:n}))]})}})},n)}))})})}),(0,u.jsx)(i.zeN,{justifyContent:"flex-start",children:(0,u.jsxs)(i.hE2,{size:"sm",spacing:"8px",variant:"outline",children:[(0,u.jsx)(i.zxk,{onClick:h,variant:"outline",children:"Cancel"}),(0,u.jsx)(i.zxk,{bg:"primary.800",color:"white",form:"manual-detail-form",isLoading:s,loadingText:"Submitting",size:"sm",variant:"solid",type:"submit",_active:{bg:"primary.500"},_hover:{bg:"primary.400"},children:"Save"})]})})]})]})}})]})};function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach((function(n){(0,y.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var B=function(e){var n,t,r,s=e.subjectRequest,o=(0,T.T)(),c=(0,w.VY)(),l=c.errorAlert,d=c.successAlert,h=(0,w.HK)().handleError,x=(0,a.useState)([]),f=x[0],p=x[1],j=(0,a.useState)(!1),m=j[0],v=j[1],b=(0,a.useState)(!1),y=b[0],S=b[1],R=(0,C.W6)(),W=R.data,E=R.isFetching,q=R.isLoading,Z=R.isSuccess,D=(0,_.w3)(),U=(0,O.Z)(D,1)[0],B=(0,P.E)(s.policy.rules),F=(0,_.nL)(),M=(0,O.Z)(F,1)[0],J=(0,_.UR)(),X=(0,O.Z)(J,1)[0],H=(t=M,r=X,(n=B).includes(g.U.ACCESS)?{ProcessingDetailComponent:I,uploadMutation:t,getUploadedWebhookDataEndpoint:_.$I.endpoints.getUploadedManualAccessWebhookData}:n.includes(g.U.ERASURE)?{ProcessingDetailComponent:A,uploadMutation:r,getUploadedWebhookDataEndpoint:_.$I.endpoints.getUploadedManualErasureWebhookData}:null),V=H.ProcessingDetailComponent,L=H.uploadMutation,Y=H.getUploadedWebhookDataEndpoint,$=function(){var e=(0,k.Z)(z().mark((function e(){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,U(s.id).unwrap();case 4:d("Manual request has been received. Request now processing."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h(e.t0);case 10:return e.prev=10,v(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,k.Z)(z().mark((function e(n){var t,i;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,L(n).unwrap();case 4:t={connection_key:n.connection_key,fields:{}},Object.entries(n.body).forEach((function(e){var n=(0,O.Z)(e,2),i=n[0],r=n[1];t.fields[i]=r||""})),i=f.map((function(e){return e.connection_key===t.connection_key?N(N({},e),{},{checked:!0,fields:N({},t.fields)}):e})),p(i),d("Manual input successfully saved!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),h(e.t0);case 14:return e.prev=14,S(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(n){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){return Z&&W.length>0&&0===f.length&&function(){if(!(f.length>0)){var e=[],n=null===W||void 0===W?void 0:W.map((function(e){return e.connection_config.key}));null===n||void 0===n||n.every((function(n){return e.push(o(Y.initiate({connection_key:n,privacy_request_id:s.id})))})),Promise.allSettled(e).then((function(e){var n=[];e.forEach((function(e,t){if("fulfilled"===e.status&&e.value.isSuccess&&e.value.data){var i={checked:e.value.data.checked,fields:{},connection_key:e.value.originalArgs.connection_key,privacy_request_id:e.value.originalArgs.privacy_request_id};Object.entries(e.value.data.fields).forEach((function(e){var n=(0,O.Z)(e,2),t=n[0],r=n[1];i.fields[t]=r||""})),n.push(i)}else l("An error occurred while loading manual input data for ".concat(W[t].connection_config.name))})),p(n)}))}}(),function(){}}),[W,f.length,o,l,Z,s.id,Y]),B.includes(g.U.ACCESS)||B.includes(g.U.ERASURE)?(0,u.jsxs)(i.gCW,{align:"stretch",spacing:8,children:[(0,u.jsxs)(i.xuv,{children:[(0,u.jsx)(i.X6q,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Manual Processing"}),(0,u.jsx)(i.izJ,{})]}),(0,u.jsx)(i.xuv,{children:(0,u.jsx)(i.xvT,{color:"gray.700",fontSize:"sm",children:"The following table details the integrations that require manual input from you."})}),(0,u.jsxs)(i.xuv,{children:[(E||q)&&(0,u.jsx)(i.M5Y,{children:(0,u.jsx)(i.$jN,{})}),Z&&W?(0,u.jsx)(i.xJi,{children:(0,u.jsxs)(i.iA_,{size:"sm",variant:"unstyled",children:[(0,u.jsx)(i.hrZ,{children:(0,u.jsxs)(i.Tr,{children:[(0,u.jsx)(i.Th,{fontSize:"sm",fontWeight:"semibold",pl:"0",textTransform:"none",children:"Integration Identifier"}),(0,u.jsx)(i.Th,{})]})}),(0,u.jsxs)(i.p3B,{children:[W.length>0&&W.map((function(e){return(0,u.jsxs)(i.Tr,{display:"block",children:[(0,u.jsx)(i.Td,{pl:"0",children:e.connection_config.key}),(0,u.jsx)(i.Td,{children:f.length>0?(0,u.jsx)(V,{connectorName:e.connection_config.name,data:f.find((function(n){return n.connection_key===e.connection_config.key})),isSubmitting:y,onSaveClick:G}):null})]},e.id)})),0===W.length&&(0,u.jsx)(i.Tr,{children:(0,u.jsx)(i.Td,{colSpan:3,pl:"0",children:(0,u.jsx)(i.M5Y,{children:(0,u.jsx)(i.xvT,{children:"You don\u2018t have any Manual Process connections set up yet."})})})})]}),f.length>0&&f.every((function(e){return e.checked}))?(0,u.jsx)(i.$RU,{children:(0,u.jsx)(i.Tr,{children:(0,u.jsx)(i.Th,{pl:"0px",children:(0,u.jsx)(i.zxk,{color:"white",bg:"primary.800",fontSize:"xs",h:"24px",isLoading:m,loadingText:"Completing DSR",onClick:$,w:"127px",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Complete DSR"})})})}):null]})}):null]})]}):null},F=t(64860),M=t(19099),J=t(40377),X=t(20970),H=t(30199),V=function(e){var n=e.subjectRequest,t=n.id,r=n.status,s=n.policy;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.X6q,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mt:4,mb:4,children:"Request details"}),(0,u.jsx)(i.izJ,{}),(0,u.jsxs)(i.kCb,{alignItems:"center",children:[(0,u.jsx)(i.xvT,{mt:4,mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Request ID:"}),(0,u.jsx)(i.xvT,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:1,children:t}),(0,u.jsx)(f.Z,{copyText:t})]}),(0,u.jsxs)(i.kCb,{alignItems:"center",children:[(0,u.jsx)(i.xvT,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Request type:"}),(0,u.jsx)(i.xuv,{mr:1,mb:4,children:(0,u.jsx)(P.Z,{rules:s.rules})})]}),(0,u.jsxs)(i.kCb,{children:[(0,u.jsx)(i.xvT,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Policy key:"}),(0,u.jsx)(i.xuv,{children:(0,u.jsx)(i.Vp9,{color:"white",bg:"primary.400",fontWeight:"medium",fontSize:"sm",children:n.policy.key})})]}),(0,u.jsxs)(i.kCb,{alignItems:"center",children:[(0,u.jsx)(i.xvT,{mb:0,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Status:"}),(0,u.jsxs)(i.Ugi,{spacing:"8px",children:[(0,u.jsx)(i.kCb,{children:(0,u.jsx)(M.Z,{status:r})}),(0,u.jsxs)(i.hE2,{isAttached:!0,variant:"outline",borderRadius:"md",children:["error"===r&&(0,u.jsx)(H.Z,{buttonProps:{size:"xs"},subjectRequest:n}),"pending"===r&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(J.Z,{subjectRequest:n,children:"Approve"}),(0,u.jsx)(X.Z,{subjectRequest:n,children:"Deny"})]})]}),(0,u.jsx)(F.Z,{daysLeft:n.days_left,includeText:!0,status:n.status})]})]})]})},L=t(13807),Y=t(95946),$=function(e){var n=e.subjectRequest,t=n.identity,r=n.identity_verified_at,s=n.custom_privacy_request_fields,o=(0,a.useState)(!1),c=o[0],l=o[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(i.kCb,{direction:"row",justifyContent:"space-between",children:[(0,u.jsx)(i.X6q,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Subject identities"}),(0,u.jsxs)(i.kCb,{flexShrink:0,alignItems:"flex-start",children:[(0,u.jsx)(Y.Z,{revealPII:c,onChange:l}),(0,u.jsx)(i.xvT,{fontSize:"xs",ml:2,size:"sm",color:"gray.600",fontWeight:"500",children:"Reveal PII"})]})]}),(0,u.jsx)(i.izJ,{mb:4}),Object.entries(t).filter((function(e){return null!==(0,O.Z)(e,2)[1].value})).map((function(e){var n=(0,O.Z)(e,2),t=n[0],s=n[1],o=s.value,l=s.label;return(0,u.jsxs)(i.kCb,{alignItems:"flex-start",children:[(0,u.jsxs)(i.xvT,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:[l,":"]}),(0,u.jsx)(i.xvT,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:2,children:(0,u.jsx)(L.Z,{data:o||"",revealPII:c})}),(0,u.jsx)(i.Vp9,{color:"white",bg:"primary.400",fontWeight:"medium",fontSize:"sm",children:r?"Verified":"Unverified"})]},t)})),s&&Object.keys(s).length>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.X6q,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mt:4,mb:4,children:"Custom request fields"}),(0,u.jsx)(i.izJ,{mb:4}),Object.entries(s).filter((function(e){return(0,O.Z)(e,2)[1].value})).map((function(e){var n=(0,O.Z)(e,2),t=n[0],r=n[1];return(0,u.jsxs)(i.kCb,{alignItems:"flex-start",children:[(0,u.jsxs)(i.xvT,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:[r.label,":"]}),(0,u.jsx)(i.xvT,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:2,children:(0,u.jsx)(L.Z,{data:Array.isArray(r.value)?r.value.join(", "):r.value,revealPII:c})}),(0,u.jsx)(i.Vp9,{color:"white",bg:"primary.400",fontWeight:"medium",fontSize:"sm",children:"Unverified"})]},t)}))]})]})},G=function(e){var n=e.data;return(0,u.jsxs)(i.gCW,{align:"stretch",display:"flex-start",spacing:6,children:[(0,u.jsx)(i.xuv,{"data-testid":"privacy-request-details",children:(0,u.jsx)(V,{subjectRequest:n})}),(0,u.jsx)(i.xuv,{children:(0,u.jsx)($,{subjectRequest:n})}),"requires_input"===n.status&&(0,u.jsx)(i.xuv,{children:(0,u.jsx)(B,{subjectRequest:n})}),(0,u.jsx)(i.xuv,{children:(0,u.jsx)(b,{subjectRequest:n})})]})},K=function(){var e,n=(0,r.useRouter)().query.id,t=void 0===n?"":n,a=(0,l.QA)({id:Array.isArray(t)?t[0]:t,verbose:!0},{skip:""===t}),d=a.data,h=a.isLoading;return e=a.isUninitialized||h?(0,u.jsx)(i.M5Y,{children:(0,u.jsx)(i.$jN,{})}):d&&0!==(null===d||void 0===d?void 0:d.items.length)?(0,u.jsx)(G,{data:null===d||void 0===d?void 0:d.items[0]}):(0,u.jsx)(i.xvT,{children:"404 no privacy request found"}),(0,u.jsxs)(s.Z,{title:"Privacy Requests - ".concat(t),children:[(0,u.jsx)(o.Z,{backPath:c.Jw}),(0,u.jsx)(i.X6q,{fontSize:"2xl",fontWeight:"semibold",children:"Privacy Request"}),e]})}},6554:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/privacy-requests/[id]",function(){return t(29083)}])}},function(e){e.O(0,[2160,338,3139,2153,9774,2888,179],(function(){return n=6554,e(e.s=n);var n}));var n=e.O();_N_E=n}]);