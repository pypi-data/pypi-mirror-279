(self.webpackChunkasqlcell=self.webpackChunkasqlcell||[]).push([[641,901],{4063:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;0!=i--;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}},2703:(e,t,r)=>{"use strict";var n=r(414);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,s,o){if(o!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return r.PropTypes=r,r}},5697:(e,t,r)=>{e.exports=r(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5641:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Vega:()=>E,VegaLite:()=>P,createClassFromSpec:()=>k});var n=r(6271),i=r.n(n);const s={};function o(e,t){void 0===e&&(e=s),void 0===t&&(t=s);const r=Object.keys(e),n=Object.keys(t);return e===t||r.length===n.length&&r.every((r=>e[r]===t[r]))}var a=r(9461),c=r.n(a);var h=r(5697),u=r.n(h);function l(e){const t=new Set;return e.forEach((e=>{Object.keys(e).forEach((e=>{t.add(e)}))})),t}const p=()=>{};function f(e,t){const r=Object.keys(t);return r.forEach((r=>{try{e.addSignalListener(r,t[r])}catch(e){console.warn("Cannot add invalid signal listener.",e)}})),r.length>0}var d=r(4063),g=r.n(d);function w(e,t){const r=Object.keys(t);return r.forEach((r=>{try{e.removeSignalListener(r,t[r])}catch(e){console.warn("Cannot remove invalid signal listener.",e)}})),r.length>0}function y(e){const{spec:t,width:r,height:n}=e;return void 0!==r&&void 0!==n?{...t,width:r,height:n}:void 0!==r?{...t,width:r}:void 0!==n?{...t,height:n}:t}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m extends i().PureComponent{constructor(){super(...arguments),v(this,"containerRef",i().createRef()),v(this,"resultPromise",void 0),v(this,"handleError",(e=>{const{onError:t=p}=this.props;t(e,this.containerRef.current),console.warn(e)})),v(this,"modifyView",(e=>{this.resultPromise&&this.resultPromise.then((t=>(t&&e(t.view),!0))).catch(this.handleError)}))}componentDidMount(){this.createView()}componentDidUpdate(e){const t=l([this.props,e]);if(t.delete("className"),t.delete("signalListeners"),t.delete("spec"),t.delete("style"),t.delete("width"),t.delete("height"),Array.from(t).some((t=>this.props[t]!==e[t])))this.clearView(),this.createView();else{const t=function(e,t){if(e===t)return!1;const r={width:!1,height:!1,isExpensive:!1},n=l([e,t]);return!n.has("width")||"width"in e&&"width"in t&&e.width===t.width||("width"in e&&"number"==typeof e.width?r.width=e.width:r.isExpensive=!0),!n.has("height")||"height"in e&&"height"in t&&e.height===t.height||("height"in e&&"number"==typeof e.height?r.height=e.height:r.isExpensive=!0),n.delete("width"),n.delete("height"),[...n].some((r=>!(r in e)||!(r in t)||!g()(e[r],t[r])))&&(r.isExpensive=!0),!(!1===r.width&&!1===r.height&&!r.isExpensive)&&r}(y(this.props),y(e)),{signalListeners:r}=this.props,{signalListeners:n}=e;if(t)if(t.isExpensive)this.clearView(),this.createView();else{const e=!o(r,n);this.modifyView((i=>{!1!==t.width&&i.width(t.width),!1!==t.height&&i.height(t.height),e&&(n&&w(i,n),r&&f(i,r)),i.run()}))}else o(r,n)||this.modifyView((e=>{n&&w(e,n),r&&f(e,r),e.run()}))}}componentWillUnmount(){this.clearView()}createView(){const{spec:e,onNewView:t,signalListeners:r={},width:n,height:i,...s}=this.props;if(this.containerRef.current){const e=y(this.props);this.resultPromise=c()(this.containerRef.current,e,s).then((e=>{if(e){const{view:t}=e;f(t,r)&&t.run()}return e})).catch(this.handleError),t&&this.modifyView(t)}}clearView(){return this.resultPromise&&this.resultPromise.then((e=>{e&&e.finalize()})).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:e,style:t}=this.props;return i().createElement("div",{ref:this.containerRef,className:e,style:t})}}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}v(m,"propTypes",{className:u().string,onError:u().func});class E extends i().PureComponent{constructor(){super(...arguments),O(this,"vegaEmbed",i().createRef()),O(this,"handleNewView",(e=>{this.update();const{onNewView:t=p}=this.props;t(e)}))}componentDidMount(){this.update()}componentDidUpdate(e){o(this.props.data,e.data)||this.update()}update(){const{data:e}=this.props;this.vegaEmbed.current&&e&&Object.keys(e).length>0&&this.vegaEmbed.current.modifyView((t=>{(function(e,t){Object.keys(t).forEach((r=>{!function(e,t,r){var n;r&&((n=r)&&"[object Function]"==={}.toString.call(n)?r(e.data(t)):e.change(t,a.vega.changeset().remove((()=>!0)).insert(r)))}(e,r,t[r])}))})(t,e),t.resize().run()}))}render(){const{data:e,...t}=this.props;return i().createElement(m,b({ref:this.vegaEmbed},t,{onNewView:this.handleNewView}))}}function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}function P(e){return i().createElement(E,j({},e,{mode:"vega-lite"}))}function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V.apply(this,arguments)}function k(e){let{mode:t,spec:r}=e;class n extends i().PureComponent{render(){return i().createElement(E,V({mode:t,spec:r},this.props))}}var s,o,a;return a=function(){return r},(o="getSpec")in(s=n)?Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[o]=a,n}O(E,"defaultProps",{data:{}})}}]);